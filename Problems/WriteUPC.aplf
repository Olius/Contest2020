 WriteUPC←{

     ⍝ Create boolean vector representing integer UPC digits.

     ⎕IO←0
     digits←⍵

     ⍝ Check for malformed input.
     ⎕ML←0
     (11⍴0)≢∊digits:¯1
     ⎕ML←1

     ⍝ Select boolean patterns and add check bits.
     3 4 5::¯1   ⍝ INDEX, RANK, and LENGTH errors
     patterns←UPCPatterns[(⊢,CheckDigit)digits]
     ∊(1 0 1)(6↑patterns)(0 1 0 1 0)(~6↓patterns)(1 0 1)

 }
